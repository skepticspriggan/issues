# [Fix deprecated warning implicit conversion from float (#20083)](https://github.com/yiisoft/yii2/pull/20144)

- _Type:_ Pull Request
- _State:_ closed
- _Repository:_ `yii2`
- _Created at:_ 2024-03-30 14:18:49

| Q             | A
| ------------- | ---
| Is bugfix?    | y
| New feature?  | n
| Breaks BC?    | n
| Fixed issues  | 20083

## Comments

what-the-diff[bot] on 2024-03-30 14:19

> ## PR Summary

* **Deprecated Warning Fix**
A bug fix was added to address a warning about a deprecated coding practice in the float conversion. This ensures the smooth operation of our code and removes potentially confusing warnings for developers.

* **Typecasting Update in Formatter**
Updates were made in `Formatter.php` to explicitly convert certain data to integers during a method called `setTimestamp`. This helps in maintaining accuracy and precision in our time-related functions.

* **Test Assertion Addition in FormatterDateTest**
For heightened reliability of our duration functions, a new test assertion has been added in `FormatterDateTest.php`. This specifically checks the `asDuration` method when it is given a float value, helping us catch potential issues earlier in the development process.

codecov[bot] on 2024-03-30 14:20

> ## [Codecov](https://app.codecov.io/gh/yiisoft/yii2/pull/20144?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=yiisoft) Report
All modified and coverable lines are covered by tests :white_check_mark:
> Project coverage is 64.82%. Comparing base [(`97ca1f2`)](https://app.codecov.io/gh/yiisoft/yii2/commit/97ca1f2b18a301d2e932f8eb4b07410d96a17edb?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=yiisoft) to head [(`407f742`)](https://app.codecov.io/gh/yiisoft/yii2/pull/20144?dropdown=coverage&src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=yiisoft).


<details><summary>Additional details and impacted files</summary>


```diff
@@            Coverage Diff            @@
##             master   #20144   +/-   ##
=========================================
  Coverage     64.82%   64.82%           
  Complexity    11376    11376           
=========================================
  Files           429      429           
  Lines         37074    37074           
=========================================
  Hits          24034    24034           
  Misses        13040    13040           
```



</details>

[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/yiisoft/yii2/pull/20144?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=yiisoft).   
:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=yiisoft).

samdark on 2024-04-02 21:40

> Thank you!
