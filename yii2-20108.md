# [Explain why DI fails sometimes and how to fix this (#20010)](https://github.com/yiisoft/yii2/pull/20108)

- _Type:_ Pull Request
- _State:_ closed
- _Repository:_ `yii2`
- _Created at:_ 2024-01-27 16:25:03

| Q             | A
| ------------- | ---
| Is bugfix?    | n
| New feature?  | n
| Breaks BC?    | n
| Fixed issues  | #20010

## Comments

samdark on 2024-02-16 22:12

> Thanks. 

skepticspriggan on 2024-02-17 13:02

> Glad to contribute

## Reviews

samdark on 2024-01-29 08:21

docs/guide/concept-di-container.md

```
@@ -396,6 +396,18 @@ class HotelController extends Controller
 }
 ``` 
 
+Note that not all core code supports DI due to performance concerns. You can add support if needed by overriding
```

> I think that's correct for AR only. Are there any other cases?

skepticspriggan on 2024-02-02 09:20

docs/guide/concept-di-container.md

```
@@ -396,6 +396,18 @@ class HotelController extends Controller
 }
 ``` 
 
+Note that not all core code supports DI due to performance concerns. You can add support if needed by overriding
```

> I could not find other cases.
> 
> I wrote it this way because it seemed the most durable. It is technically correct now and would also be true if a case is discovered or added in the future.

samdark on 2024-02-02 10:36

docs/guide/concept-di-container.md

```
@@ -396,6 +396,18 @@ class HotelController extends Controller
 }
 ``` 
 
+Note that not all core code supports DI due to performance concerns. You can add support if needed by overriding
```

> I'd move this note into AR guide instead. 
